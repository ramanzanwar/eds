<meta name="viewport" content="width=device-width, initial-scale=1"/>
<script src="/scripts/aem.js" type="module"></script>
<script src="/scripts/scripts.js" type="module"></script>
<!-- <script src="/blocks/blck/blck.js" type="module"></script> -->
<link rel="stylesheet" href="/styles/styles.css"/>

<div class="topnav">
    <a class="active" href="#home">Home</a>
    <a href="#news">News</a>
    <a href="#contact">Contact</a>
    <a href="#about">About</a>
    <a class="ac">Sign In</a>
    <a>Sign Up</a>
  </div>

  <button onclick="onButtonClick()">Hello</button>
<body>
  <table>
    <thead>
      </thead>
    <tbody>
      </tbody>
  </table>
  <script>

function onButtonClick() {
 
 alert('Button clicked!');

const apiUrl = 'https://jsonplaceholder.typicode.com/posts/1';

var newData = ['test'];
var responseData;
// Make a GET request
fetch(apiUrl)
.then(response => response.json())
.then(data => {
// Assuming the API response is an array of objects
// Push each response object into the apiResponses array
// console.log('Hello',data["title"]);
//responseData = JSON.stringify(data);
// var json = JSON.parse(data);
console.log(data);
})
.catch(error => {
console.error('Error fetching API data:', error);
});    
}


console.log(data);
    // Replace "your_json_data" with your actual JSON data or the URL to fetch it from
var jsonData = data;

// Function to create and insert a table header row
function createTableHeader(tableData) {
  const tableHead = document.querySelector("thead");
  const headerRow = document.createElement("tr");

  // Get the keys (properties) of the first object in the data
  const dataKeys = Object.keys(tableData[0]);

  // Create table header cells for each key and append them to the row
  dataKeys.forEach(key => {
    const headerCell = document.createElement("th");
    headerCell.textContent = key;
    headerRow.appendChild(headerCell);
  });

  // Append the header row to the table head
  tableHead.appendChild(headerRow);
}

// Function to create and insert a table data row
function createTableData(dataObject) {
  const tableBody = document.querySelector("tbody");
  const dataRow = document.createElement("tr");

  // Create table data cells for each value in the object and append them to the row
  Object.values(dataObject).forEach(value => {
    const dataCell = document.createElement("td");
    dataCell.textContent = value;
    dataRow.appendChild(dataCell);
  });

  // Append the data row to the table body
  tableBody.appendChild(dataRow);
}

// Create table header
createTableHeader(jsonData);

// Create table data rows for each object in the JSON data
jsonData.forEach(dataObject => createTableData(dataObject));

  </script>
  </body>